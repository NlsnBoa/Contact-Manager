<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- CSS Files -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./css/register.css" />
    <link rel="stylesheet" href="./css/registerform.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com%22%3E/" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@500&display=swap"
      rel="stylesheet"
    />

    <!-- JS  -->
    <script src="./js/code.js"></script>
    <script src="./js/md5.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script
      src="https://kit.fontawesome.com/1c8222ee2c.js"
      crossorigin="anonymous"
    ></script>

    <!-- Favicon -->
    <link rel="shortcut icon" href="favicon3.ico" type="image/x-icon" />

    <!-- Title -->
    <title>Contact Manager</title>
  </head>

  <body>
    <!-- The nav bar content -->
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <button
            type="button"
            class="navbar-toggle"
            data-toggle="collapse"
            data-target="#myNavbar"
          >
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./index.html">Group 19</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav">
            <li><a href="./index.html">Home</a></li>
            <li><a href="./login.html">Log in</a></li>
            <li class="active"><a href="./register.html">Sign up</a></li>
            <li><a href="./aboutus.html">About Us</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- The background content -->
    <video
      id="background-video"
      autoplay
      loop
      muted
      poster="images/astronautzoompic.png"
    >
      <source src="images/astronautzoomed.mp4" type="video/mp4" />
    </video>

    <!-- The sign up form content -->
    <div class="box">

      <div class="form-container">
      
        <img src="./images/ufc_icon.png" alt="logo" style="width: 185px" />
        <h4 class="heading-sentence">We are Group 19</h4>
      
        <form id="wholeForm">
          <p class="create-a-new-acc-sentece">Create a new account</p>
  
          <div class="container">
            <label style="text-align: center;" for="firstname"
              ><b>First Name</b></label
            >
            <br />
            <input
              type="text"
              id="firstName"
              placeholder="Enter First Name"
              name="firstname"
              class="input-field"
              required
            />
            <br />
            <label
              style="padding-top: 20px;"
              for="lastname"
              style="padding-top: 20px"
              ><b>Last Name</b></label
            >
            <br />
            <input
              type="text"
              id="lastName"
              placeholder="Enter Last Name"
              name="lastname"
              class="input-field"
              required
            />
            <br />
            <label
              style="padding-top: 20px;"
              for="login"
              style="padding-top: 20px"
              ><b>Username</b></label
            >
            <br />
            <input
              type="text"
              id="loginName"
              placeholder="Enter Username"
              name="login"
              class="input-field"
              required
              pattern="(?=.*[a-zA-Z])[a-zA-Z0-9]{3,18}"
              title="Must be between 3-18 characters and must contain at least one letter"
            />
            <br />
            <label
              style="padding-top: 20px;"
              for="password"
              style="padding-top: 20px"
              ><b>Password</b></label
            >
            <br />
            <input
              type="password"
              id="loginPassword"
              placeholder="Enter Password"
              name="password"
              class="input-field"
              required
              pattern="(?=.*\d)(?=.*[A-Za-z])(?=.*[!@#$%^&*]).{8,32}"
              title="Must be between 8-32 characters and must contain at least one number and one special character"
            />
            <br />
            <button
              style="width: 30%"
              type="submit"
              onclick="doRegister()"
            >
              Sign up
            </button>
            <div class="text" id="loginResult" style="color: red"></div>
            <br />
  
            <div>
              <p style="display: inline; font-weight: 200;">
                Have an account?
              </p>
              <a href="./login.html" style="display: inline">Log in</a>
            </div>
            
            <!--HTML fo username criteria message-->
            <div id="explanationUser" style="margin-top: 10px;">
              <h4 style="color: red; font-weight:100">
                Username must contain the following:
              </h4>
              <p id="userLett" class="invalid" style="">
                At least one letter
              </p>
              <p id="userLen" class="invalid" style="">
                3 to 18 characters
              </p>
              <h4 style="color: rgb(255, 72, 0)">
                Username may contain the following:
              </h4>
              <p id="userNum" class="opt" style="">Numbers</p>
              <p id="userUnd" class="opt" style="">
                Underscores
              </p>
              <p id="userHyp" class="opt" style="">Hyphens</p>
            </div>
            
            <!--HTML fo password criteria message-->
            <div id="explanation" style="margin-top: 10px;">
              <h4 style="color: red">Password must contain the following:</h3>
              <p id="passLen" class="invalid" style="">8 to 32 characters</p>
              <p id="passLett" class="invalid" style="">At least one letter</p>
              <p id="passNum" class="invalid" style="">At least one number</p>
              <p id="passSpec" class="invalid" style="">At least one special character</p>
            </div>
          </div>
        </form>
      </div>
      
      <!--code for username criteria message-->
      <script>
        let fNameField = document.getElementById("firstName");
        let lNameField = document.getElementById("lastName");
        let userform = document.getElementById("loginName");
        let totalform = document.getElementById("wholeForm");
        let numInput = document.getElementById("userNum");
        let lettInput = document.getElementById("userLett");
        let lenInput = document.getElementById("userLen");
        let hypInput = document.getElementById("userHyp");
        let undInput = document.getElementById("userUnd");

        // to activate transitions
        fNameField.onclick = function () {
          totalform.style.minHeight = "360.001px";
        };

        lNameField.onclick = function () {
          totalform.style.minHeight = "360.001px";
        };

        //username message displays
        userform.onfocus = function () {
          document.getElementById("explanationUser").style.display = "block";
          totalform.style.minHeight = "675px";
        };

        //username message goes away
        userform.onblur = function () {
          document.getElementById("explanationUser").style.display = "none";
          totalform.style.minHeight = "360px";
        };

        //username validation
        userform.onkeyup = function () {
          var nums = /[0-9]/g;
          var lett = /[a-zA-Z]/g;
          var hyp = /[-]/g;
          var und = /[_]/g;

          //check length
          if (userform.value.length >= 3 && userform.value.length <= 18) {
            lenInput.classList.remove("invalid");
            lenInput.classList.add("valid");
          } else {
            lenInput.classList.remove("valid");
            lenInput.classList.add("invalid");
          }

          //check letters
          if (userform.value.match(lett)) {
            lettInput.classList.remove("invalid");
            lettInput.classList.add("valid");
          } else {
            lettInput.classList.remove("valid");
            lettInput.classList.add("invalid");
          }

          //check numbers
          if (userform.value.match(nums)) {
            numInput.classList.remove("opt");
            numInput.classList.add("valid");
          } else {
            numInput.classList.remove("valid");
            numInput.classList.add("opt");
          }

          //check hyphens
          if (userform.value.match(hyp)) {
            hypInput.classList.remove("opt");
            hypInput.classList.add("valid");
          } else {
            hypInput.classList.remove("valid");
            hypInput.classList.add("opt");
          }

          // check underscores
          if (userform.value.match(und)) {
            undInput.classList.remove("opt");
            undInput.classList.add("valid");
          } else {
            undInput.classList.remove("valid");
            undInput.classList.add("opt");
          }
        };
      </script>

      <!--code for password criteria message-->
      <script>
        let passform = document.getElementById("loginPassword");
        let pNumInput = document.getElementById("passNum");
        let pLettInput = document.getElementById("passLett");
        let pSpecInput = document.getElementById("passSpec");
        let pLenInput = document.getElementById("passLen");

        //password message displays
        passform.onfocus = function () {
          document.getElementById("explanation").style.display = "block";
          totalform.style.minHeight = "570px";
        };

        //password message goes away
        passform.onblur = function () {
          document.getElementById("explanation").style.display = "none";
          totalform.style.minHeight = "360px";
        };

        //password validation
        passform.onkeyup = function () {
          var nums = /[0-9]/g;
          var lett = /[a-zA-Z]/g;
          var spec = /[!@#$%^&*]/g;

          //check length
          if (passform.value.length >= 8 && passform.value.length <= 32) {
            pLenInput.classList.remove("invalid");
            pLenInput.classList.add("valid");
          } else {
            pLenInput.classList.remove("valid");
            pLenInput.classList.add("invalid");
          }

          //check numbers
          if (passform.value.match(nums)) {
            pNumInput.classList.remove("invalid");
            pNumInput.classList.add("valid");
          } else {
            pNumInput.classList.remove("valid");
            pNumInput.classList.add("invalid");
          }

          //check letters
          if (passform.value.match(lett)) {
            pLettInput.classList.remove("invalid");
            pLettInput.classList.add("valid");
          } else {
            pLettInput.classList.remove("valid");
            pLettInput.classList.add("invalid");
          }

          //check special characters
          if (passform.value.match(spec)) {
            pSpecInput.classList.remove("invalid");
            pSpecInput.classList.add("valid");
          } else {
            pSpecInput.classList.remove("valid");
            pSpecInput.classList.add("invalid");
          }
        };
      </script>
    </div>
  </body>
</html>
